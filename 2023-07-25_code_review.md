# Code Review

## Repo
https://github.com/eljoth/go-code-review

## Additional Notes
- ran `go mod tidy`
- `go.mod`: `go 1.18 // bump version for security reasons`
- should add a `Makefile` to simplify the build process
- `Dockerfile`
    - define fixed go version and run integration tests before each update
    - prefer using the golang-alpine image for size and build time
    - copy `go.mod` and `go.sum` files & use `go mod download` before `go build` & utilise the docker / CI cache
    - do not install packages that are unnecessary
    - test whole docker flow
- `internal/api/entity/*.go` file naming should be `snake_cased` and not `camelCased`
- config parsing does not work, hardcoded the port for now for testing
    - consider using a smaller env file package like https://github.com/vrischmann/envconfig if not using config files
- consider using using cobra (https://github.com/spf13/cobra) and companion viper (https://github.com/spf13/viper) together for better command line tooling and config parsing
- `service` package name could be more specific, e.g.
- `internal/service/service.go`
    - fix return type of `CreateCoupon`, return the coupon and an error
    - refactor error flow for getting coupons:
        - strategy: best effort, return as many coupons as possible but also log and return all errors
        - could introduce new error type `CouponServiceError` that has slice of errors and lastError
        - collect errors and return new error type
- `internal/service/service_test.go`
    - table style testing, probably generated by go which is sufficient here
    - could have used a testing library like testify for assertions
- missing tests for at least `api` and `memdb` packages -> writing the unit tests will probably show more issues in terms of testability and mocking and testing behaviour
- missing integration / e2e test to test the whole couponing flow

## Questions
- tell me about a typical day / week on the job including all regular meetings.
- what is the process for a new business feature?
- which other teams / departments would I typically have contact with and why?
- who is responsible for QA / security / compliance? how long until I would get a reply from them?
- can / has the engineer to write their own tickets?
- who decides how the development process looks like? the dev team or management?
- how does the actual development lifecycle look like?
    - e.g. full bug process, from `user finds bug` to `bugfix is deployed`
    - or for a new idea / feature
- what does the internal / business / engineering documentation look like? which tools are being used here?
- how is a new feature / project planned?
- who estimates the work and how?
- is the actual time tracked somehow?
- what is the process if a task isn't completed during a sprint?
- what is the ratio of business features / maintenance tasks?
- according to which criteria are maintenance tasks or bug tickets prioritised?
- how many engineers did you have to lay off or have quit over the past two years (for which dev team size)?
